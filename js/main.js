(()=>{"use strict";function e(e=[]){if(0==e.length)return"";const t=document.createElement("footer");return t.classList.add("modal__footer"),e.forEach((e=>{const n=document.createElement("button"),{title:o="Button",classList:a="",handler:l=(()=>{})}=e;n.setAttribute("class",a),n.textContent=o,n.onclick=l,t.appendChild(n)})),t}const t={modal:function(t){const n=function(t){const n=document.createElement("div"),o='\n    <main class="modal__main">\n      modal_content\n    </main>\n    <footer class="modal__footer">\n      modal_footer\n    </footer>',{title:a,closable:l=!0,content:s=o,width:c="400px",buttons:i=[]}=t;return n.classList.add("modal"),n.insertAdjacentHTML("afterbegin",`\n    <div class="modal__overlay" data-close="true">\n      <div class="modal__window" style="width: ${c}">\n        <div class="modal__content">\n          <header class="modal__header">\n            <h2 class="modal__title">${a}</h2>\n            ${l?'<div class="modal__close" data-close="true">\n                &times;\n              </div>':""}\n          </header>\n          <main class="modal__main" data-content>\n            ${s}\n          </main>\n        </div>\n      </div>\n    </div>\n  `),0!==i.length&&n.querySelector(".modal__main").insertAdjacentElement("afterend",e(i)),document.body.appendChild(n),n}(t);let o=!1;const a={open(){!o&&n.classList.add("open"),console.log("Modal is opened!")},close(){o=!0,n.classList.remove("open"),n.classList.add("closing"),setTimeout((()=>{n.classList.remove("closing"),o=!1,console.log("Modal is closed!")}),200)},setContent(e){n.querySelector("[data-content]").innerHTML=e},setFooter(t){const o=n.querySelector(".modal__footer");o&&o.remove(),0!==t.length&&n.querySelector(".modal__main").insertAdjacentElement("afterend",e(t))},destroy(){n.removeEventListener("click",l),n.remove()}},l=e=>{e.target.getAttribute("data-close")&&a.close()};return n.addEventListener("click",l),a}},n={title:"My modal",closable:!0,content:'\n  <main class="modal__main">\n    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nulla consectetur deleniti adipisci et beatae fugit officia? Tenetur corrupti aperiam ut nostrum voluptatem, eos excepturi, sapiente illo obcaecati molestias voluptatum ex.\n  </main>\n',width:"400px",buttons:[{title:"Ok",classList:"modal__confirm button",handler(){console.log("Confirmed"),o.close()}},{title:"Cancel",classList:"modal__cancel button",handler(){console.log("Canceled"),o.close()}}]},o=t.modal(n);window.modal=o})();