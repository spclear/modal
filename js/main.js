(()=>{"use strict";function e(e=[]){if(0==e.length)return"";const t=document.createElement("footer");return t.classList.add("modal__footer"),function(e,t){e.forEach((e=>{const n=document.createElement("button"),{title:o="Button",classList:a="",handler:s=(()=>{})}=e;n.setAttribute("class",a),n.textContent=o,n.onclick=s,t.appendChild(n)}))}(e,t),t}const t={modal:function(t){const n=function(t){const n=document.createElement("div"),{title:o,closable:a=!0,content:s="modal_content: not specified",width:i="400px",buttons:c=[]}=t;return n.classList.add("modal"),n.insertAdjacentHTML("afterbegin",`\n    <div class="modal__overlay" data-close="true">\n      <div class="modal__window" style="width: ${i}">\n        <div class="modal__content">\n          <header class="modal__header">\n            <h2 class="modal__title">${o}</h2>\n            ${a?'<div class="modal__close" data-close="true">\n                &times;\n              </div>':""}\n          </header>\n          <main class="modal__main" data-content>\n            ${s}\n          </main>\n        </div>\n      </div>\n    </div>\n  `),0!==c.length&&n.querySelector(".modal__main").insertAdjacentElement("afterend",e(c)),document.body.appendChild(n),n}(t);let o=!1;const a={open(){!o&&n.classList.add("open"),console.log("Modal is opened!")},close(){o=!0,n.classList.remove("open"),n.classList.add("closing"),setTimeout((()=>{n.classList.remove("closing"),o=!1,console.log("Modal is closed!")}),200)},setContent(e){n.querySelector("[data-content]").innerHTML=e},setFooter(t){const o=n.querySelector(".modal__footer");o&&o.remove(),0!==t.length&&n.querySelector(".modal__main").insertAdjacentElement("afterend",e(t))},destroy(){n.removeEventListener("click",s),n.remove()}},s=e=>{e.target.getAttribute("data-close")&&a.close()};return n.addEventListener("click",s),a}},n=[{id:1,title:"Oranges",price:20,img:"https://purepng.com/public/uploads/large/purepng.com-orange-orangesorangefruitbitter-orangeorangesclip-art-1701527337017aqfwq.png"},{id:2,title:"Mangoes",price:14,img:"https://readytoeat.eu/images/buy-fresh-ripe-mangoes.png"},{id:3,title:"Apples",price:10,img:"https://www.applesfromny.com/wp-content/uploads/2020/08/Zestar_NYAS-Apples3.png"},{id:4,title:"Pineapples",price:30,img:"https://lh3.googleusercontent.com/proxy/izaXgAt-aydbUpPpTdEIo7jwqwH7hyu2wcCffauzRvPXgX2oAWnouLmL6kfngQYA0pExLAIEyalzkY2NRbUhTLhCGVOhWHPtB2JyUzd4NnO3qiFDUmvC2RHiUgIzOw0QbHLI0Yu_asY"}];document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".container");e.innerHTML=function(e){let t="";return e.forEach((e=>{t+=function(e){const{id:t,title:n,price:o,img:a}=e;return`\n    <div class="card" data-id="${t}">\n      <h3 class="card__title">${n}</h3>\n      <div class="card__content">\n        <img class="card__image"\n          src="${a}"\n          alt="oranges">\n      </div>\n      <div class="options">\n        <button class="card__button view" data-id="${t}" data-function="view-price">\n          View price\n        </button>\n        <button class="card__button delete" data-id="${t}" data-function="delete">\n          Delete\n        </button>\n      </div>\n    </div>`}(e)})),t}(n);const o={title:"Delete this item?",closable:!1,content:"<p>Are you sure you want to delete this item?</p>",width:"400px",buttons:[{title:"Confirm",classList:"modal__confirm button",handler(){console.log("Confirmed"),s.close()}},{title:"Cancel",classList:"modal__cancel button",handler(){console.log("Canceled"),s.close()}}]},a=t.modal({title:"Goods Info",closable:!0,content:"",width:"400px"}),s=t.modal(o);e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-id"),o=e.target.getAttribute("data-function");if(!o)return;const i=n.find((e=>e.id==t));switch(o){case"view-price":c=i.title,l=i.price,a.setContent(`\n          <p>Item title: <span style="font-weight: 600">${c}</span></p>\n          <p>Price of one kilogram: <span style="font-weight: 600">${l}$</span></p>\n        `),a.open();break;case"delete":s.open()}var c,l}))}))})();